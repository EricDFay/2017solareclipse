ls()
source('stats.r')
date
dates
head(dates)
p1
p2
dates <- dates %>% mutate(diff=datetime - lag(datetime,1))
head(dates)
dates <- dates %>% mutate(wday=wday(datetime))
head(dates)
dates %>% ggplot(aes(wday)) + geom_histogram()
source('stats.r')
dates <- dates %>% mutate(diff=datetime - lag(datetime,1))
source('stats.r')
p3
p3 + scale_y_log10()
p3 + scale_x_log10()
source('stats.r')
p3
hms(1)
hms(hours=1)
?hms
hms(hours=10)
hms::hms(hours=10)
source('stats.r')
p4
source('stats.r')
p4
source('stats.r')
p4
filter(dates, hms::hms(hours=4) < diff & diff < hms::hms(hours=18))
lenght(filter(dates, hms::hms(hours=4) < diff & diff < hms::hms(hours=18)))
length(filter(dates, hms::hms(hours=4) < diff & diff < hms::hms(hours=18)))
filter(dates, hms::hms(hours=4) < diff & diff < hms::hms(hours=18))
filter(dates, hms::hms(hours=4) < diff & diff < hms::hms(hours=18))$diff
length(filter(dates, hms::hms(hours=4) < diff & diff < hms::hms(hours=18))$diff)
p1
source('stats.r')
p1
p1+scale_y_log10()
p2
p4
p3
source('stats.r')
p3
p3+scale_y_log10()
p4
filter(dates, hms::hms(hours=4) < diff & diff < hms::hms(hours=18)) %>% ggplot(aes(diff)) + geom_histogram()
filter(dates, hms::hms(hours=6) < diff & diff < hms::hms(hours=18))
filter(dates, hms::hms(hours=6) < diff & diff < hms::hms(hours=18)) %>% ggplot(aes(diff)) + geom_histogram()
filter(dates, hms::hms(hours=8) < diff & diff < hms::hms(hours=15)) %>% ggplot(aes(diff)) + geom_histogram()
length(filter(dates, hms::hms(hours=8) < diff & diff < hms::hms(hours=15))$diff)
length(filter(dates, hms::hms(hours=8) < diff & diff < hms::hms(hours=18))$diff)
length(filter(dates, hms::hms(hours=6) < diff & diff < hms::hms(hours=18))$diff)
max(dates$datetime)-min(dates$datetime)
length(filter(dates, hms::hms(hours=8) < diff & diff < hms::hms(hours=10))$diff)
length(filter(dates, hms::hms(hours=7) < diff & diff < hms::hms(hours=11))$diff)
p4
p3
source('stats.r')
p3
p4
source('stats.r')
f(60*60)
f(60)
f(6)
f(1)
source('stats.r')
f(1)
f(60)
source('stats.r')
f(60)
f(0)
f(-1)
source('stats.r')
f(0)
f(60)
f(60*60)
f(60*60*24)
f(60*60*24*2)
f(60*60*24*3)
f(60*60*24*2.5)
f(60*60*24*2.1)
f(60*60*24*2)
f(60*60*24*2+60)
f(60*60*24*2+60*60)
f(60*60*24*2+60*45)
f(60*60*24*2+60*30)
f(60*60*24*2+60*10)
f(60*60*24*2+60*1)
f(60*60*24*2+60*2)
f(60*60*24*2+60*2)
p3
f(0)-f(1)
f(-1)-f(1)
f(1)-f(2)
f(1)
f(0)
f(0)-f(1)
f(0)-f(5)
f(0)-f(10)
f(0)-f(30)
f(30)
f(30)/f(0)
f(10)
dates %>% filter(diff > hms:hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram()
hms:hms(seconds=10)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram()
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=60*60)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=1)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=2)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram()
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=2)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=5)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=4)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=6)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=3)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=2)
dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram(binwidth=1)
p5 <- dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram()
plot.grid(p1,p5)
plot_grid(p1,p5)
library(cowplot)
install.packages("cowplot")
plot_grid(p1,p5)
library(cowplot)
plot_grid(p1,p5)
?plot_grid
plot_grid(p1,p5,labels=auto)
plot_grid(p1,p5,labels='auto')
plot_grid(p1,p5,labels='auto',ncols=1)
plot_grid(p1,p5,labels='auto',ncol=1)
plot_n <- function(x){ dates %>% filter(diff > hms::hms(seconds=x)) %>% ggplot(aes(date)) + geom_histogram()}
plot_n(30)
plot_grid(plot_n(0),plot_n(10),plot_n(30),plot_n(60),labels='auto',ncols=1)
plot_grid(plot_n(0),plot_n(10),labels='auto',ncols=1)
plot_grid(plot_n(0),plot_n(10),ncols=1)
p <- c(plot_n(0),plot_n(10),plot_n(30))
plot_grid(p,ncols=1)
p
class(p)
class(p[1])
class(plot_n(0))
plot_n(0)
plot_n(10)
plot_n(30)
plot_n(60)
plot_n(90)
p <- plot_n
p(0)
p(1)
p(2)
p(10)
p(100)
p(3600)
p(60*60*24)
p(60*60)
p(60*60*2)
p(60*60*6)
p(60*60*8)
p(60*60*7)
dates %>% filter(date >= as.date('2017-08-14'))
dates %>% filter(date >= as.datetime('2017-08-14'))
dates %>% filter(date >= as_datetime('2017-08-14'))
dates %>% mutate(section=ifelse( datetime < as_datetime('2017-08-14'),"PCT","OCT") ))
dates %>% mutate(section=ifelse( datetime < as_datetime('2017-08-14'),"PCT","OCT") )
dates <- dates %>% mutate(section=ifelse( datetime < as_datetime('2017-08-14'),"PCT","OCT") )
dates %>% group_by(section) %>% ggplot(aes(datetime)) + geom_histogram()
dates %>% group_by(section) %>% ggplot(aes(datetime),group=section) + geom_histogram()
p5 <- dates %>% filter(diff > hms::hms(seconds=10)) %>% ggplot(aes(date)) + geom_histogram()
p5
q()
